<!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<body>
<canvas id="myChart" style="width:100%;max-width:1000px"></canvas>

<script>
var xValues = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40];

var sourceData = [];
var sourceCMR = []//[460.66,6],[464,1],[465,6],[480,2],[489.99,1],[495.14,2],[499.99,1],[500,1],[510.99,2],[514.98,1],[514.98,1],[514.98,1],[514.99,1],[554.9,2]];
var sourceMHT = []//[383.14,1],[384.95,4],[384.95,78],[399.99,1],[399.99,1],[401.98,1],[409.95,4],[410,1],[410.95,3],[412.68,14]];
var sourceTOE = []//[333.98,4],[334.95,1],[340.96,1],[344.96,6],[352.24,1],[358.44,1],[359.99,2],[362.88,6],[366.88,2],[366.97,1],[367.07,1],[379.92,1],[399.98,1],[399.99,3],[399.99,1],[399.99,1],[488.88,1],[504.98,3],[601.99,2],[655,1]];
var sourceIKO = [[229.98,12],[229.99,13],[269.8,1],[269.82,5],[269.85,4],[282.99,1],[284.98,1],[285,2],[299.98,6],[299.99,3],[299.99,1],[301.12,2],[303.14,6],[304.99,6],[309.96,5],[318.24,5],[325.99,17],[329.99,1],[349.98,2],[349.99,2],[349.99,1],[359.99,1],[364.99,2],[389.98,1]];
var sourceZNR = [[260.5,1],[269.69,1],[271.98,1],[279.94,6],[279.95,2],[285.95,2],[294.9,2],[294.98,1],[299.99,1],[300,2],[304.99,69],[309.98,1],[309.98,1],[309.99,2],[344.96,1],[358.86,1]];
var sourceSTX = [[219.99,14],[238,1],[239.99,5],[243.79,3],[243.79,6],[247.98,6],[250,6],[250,1],[254.34,2],[254.46,3],[254.9,2],[258.98,4],[259.99,2],[260,1],[261.98,1],[264.98,48]];
var sourceMTO = [[231.5,1],[231.98,4],[237.42,17],[240.98,1],[249.99,1],[254.9,4],[254.99,1],[259.98,5],[279.99,1],[285.99,10],[289.98,1],[293.58,1],[298.86,1],[299.98,4],[299.99,1],[304.99,29],[314.99,1],[384.97,2],[400,2]];
var sourceTBD = [[229.99,1],[230.98,1],[232.92,1],[234.98,1],[234.99,2],[236.98,3],[240.9,1],[240.98,6],[244.9,1],[247.23,1],[254.98,2],[254.99,1],[259.98,5],[264.97,3],[268.24,9],[270.99,2],[277,1],[279.14,2],[284.98,1],[292.45,2],[298.86,1],[309.98,1],[346.99,1],[369.99,1],[435.68,1]];
var sourceICV = [[166.25,1],[169.98,1],[174.99,6],[179.99,3],[182.95,1],[182.98,1],[184,4],[188,2],[189.99,1],[190,3],[190.38,8],[192.15,2],[192.74,6],[195.59,1],[198.05,12],[198.8,4],[199.99,12],[202.82,15],[205.99,10],[206.05,26]];
var sourceDND = [[169.98,1],[184.99,2],[186.4,5],[191.98,4],[192.98,6],[194.98,1],[194.99,1],[197.99,3],[199.9,5],[199.99,8],[201.01,2],[209.45,2],[209.98,6],[210.98,3],[211.99,12],[214.98,1],[216.94,6],[217.99,1],[220.99,54]];
var sourceIMH = [[166.25,1],[167.99,5],[168,1],[168.44,7],[168.45,1],[168.46,1],[168.46,1],[168.48,1],[168.5,5],[168.98,4],[169.98,2],[169.98,1],[174.43,4],[174.73,1],[174.75,4],[177,8],[179.51,16],[180.2,1],[180.66,2],[180.73,2],[180.79,1],[181.51,3],[181.87,2],[184.97,8],[185.68,5],[185.98,3],[186.98,2]];
var sourceKLD = [[159.99,1],[159.99,161]];
var itemPrice = [];
var lineItem = [];
var colors = ["blue","khaki","purple","orange","green","gold","cyan","black","red","saddleBrown","dimGray","darkGreen"];
var setNames = ["Commander Legends","Modern Horizons 2","Throne of Eldraine","Ikoria","Zendikar Rising","Strixhaven School of Mages","Core Set 2021","Theros Beyond Death","Innistrad Crimson Vow","Adventures in the Forgotten Realms","Innistrad Midnight Hunt","Kaldheim"];

sourceData.push(sourceCMR,sourceMHT,sourceTOE,sourceIKO,sourceZNR,sourceSTX,sourceMTO,sourceTBD,sourceICV,sourceDND,sourceIMH,sourceKLD);

for (var x = 0; x < sourceData.length; ++x) {
	//sourceData[x] = [];
	itemPrice[x] = [];
	for (var i = 0; i < sourceData[x].length; ++i) {
		for (var n = 0; n < sourceData[x][i][1]; ++n) {
			if (itemPrice[x].length < xValues.length) 
				itemPrice[x].push(sourceData[x][i][0]);
		}
	}
	lineItem[x] = {
		label: setNames[x],
		data: itemPrice[x],
		borderColor: colors[x],
		fill: false
	};
}

new Chart("myChart", {
  type: "line",
  data: {
    labels: xValues,
	datasets: lineItem
  },
  options: {
    legend: {display: true},
	title: {
		display: true,
		text: "Price of available stock on TCGPlayer"
	}
  }
});
</script>
